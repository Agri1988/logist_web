webpackJsonp([0],{0:function(t,e){},"7Otq":function(t,e,a){t.exports=a.p+"static/base_app/img/logo.925f4a3.png"},Amyg:function(t,e){},Cq1D:function(t,e){},HtRV:function(t,e){},"J1c+":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("nav",{staticClass:"navbar navbar-dark bg-dark",staticStyle:{"border-radius":"5px"}},[a("span"),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:t.links[0].page,params:{my_firm:!0}}}},[t._v("\n                "+t._s(t.links[0].text)+"\n              ")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:t.links[1].page}}},[t._v("\n                  "+t._s(t.links[1].text)+"\n              ")])],1),t._v(" "),a("li",{staticClass:"nav-item"})])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]};var s={name:"App",components:{navbar:a("VU/8")({name:"navbar",data:function(){return{links:[{id:0,text:"Наша фирма",page:"partner"},{id:1,text:"Парнеры",page:"partners"}]}}},r,!1,function(t){a("xHBY")},null,null).exports}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-link",{attrs:{to:{name:"partner",params:{my_firm:"true"}}}},[e("img",{staticStyle:{height:"150px"},attrs:{src:a("7Otq")}})]),this._v(" "),e("navbar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("Sglr")},null,null).exports,l=a("/ocq"),c={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var v=a("VU/8")({name:"index",data:function(){return{msg:"Welcome to Your Vue.js App"}}},c,!1,function(t){a("Cq1D")},"data-v-09b538f6",null).exports,_="http://127.0.0.1:8000/";var u={money2string:function(t){var e=[["","",""],[["один","одна"],["десять","одиннадцать","двенадцать","тринадцать","четырнадцать","пятнадцать","шестнадцать","семнадцать","восемнадцать","девятнадцать"],"сто"],[["два","две"],"двадцать","двести"],["три","тридцать","триста"],["четыре","сорок","четыреста"],["пять","пятьдесят","пятьсот"],["шесть","шестьдесят","шестьсот"],["семь","семьдесят","семьсот"],["восемь","восемьдесят","восемьсот"],["девять","девяносто","девятьсот"]],a=[["копейка","копейки","копеек"],["рубль","рубля","рублей"],["тысяча","тысячи","тысяч"],["миллион","миллиона","миллионов"],["миллиард","миллиарда","миллиардов"]];function i(t,a,i){var r="",s=e[Math.floor(t/100)%10][2];s&&(r+=s+" ");var n=Math.floor(t/10)%10;return(s=e[n][1])instanceof Array?(s=s[t%10])&&(r+=s+" "):(s&&(r+=s+" "),(s=e[t%10][0])instanceof Array&&(s=s[0==i||2==i?1:0]),s&&(r+=s)),r+" "+function(t,e){return e[t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]}(t,a[i])+(i>1?" ":"")}for(var r=Math.floor(t+.005),s=Math.floor(100*(t-r)+.5),n="",o=1;r>.9999;r/=1e3)n=i(Math.floor(r%1e3),a,o)+n,o++;return s>0&&(n=n+" "+i(s,a,0)),n}},m={name:"Invoice",data:function(){return{invoice:{id:null,number:"",partner:"",partner_obj:{},services:[],services_obj:[],price_with_vat_value:null,price_with_vat_verbose:"",price_wo_vat_value:null,price_wo_vat_verbose:"",vat_value:null,vat_verbose:"",date:""},my_firm:{}}},computed:{summ_price_with_vat:function(){var t=0;return this.invoice.services_obj.forEach(function(e,a){t+=parseFloat(e.cost_with_vat)}),t=t.toFixed(2),this.invoice.price_with_vat_value=t,t>0?t:null},summ_price_wo_vat:function(){var t=0;return this.invoice.services_obj.forEach(function(e,a){t+=parseFloat(e.cost_wo_vat)}),t=t.toFixed(2),this.invoice.price_wo_vat_value=t,t>0?t:null},summ_vat:function(){var t=0;return this.invoice.services_obj.forEach(function(e,a){t+=parseFloat(e.vat_value)}),t=t.toFixed(2),this.invoice.vat_value=t,t>0?t:null},num2str_vat:function(){var t=u.money2string(parseFloat(this.invoice.vat_value));return this.invoice.vat_verbose=t,t},num2str_price_with_vat:function(){var t=u.money2string(parseFloat(this.invoice.price_with_vat_value));return this.invoice.price_with_vat_verbose=t,t}},methods:{get_invoice:function(t){var e=this;this.$http.get(_+"documents/api/documents/"+t+"/").then(function(t){console.log(t.data),e.invoice=t.data})},get_partner:function(t){var e=this;this.$http.get(_+"partners/api/partner/"+t+"/").then(function(t){e.invoice.partner_obj=t.data,e.invoice.partner=t.data.id})},get_my_firm:function(){var t=this;this.$http.get(_+"partners/api/partner/?my_firm=True").then(function(e){return t.my_firm=e.data[0]})},get_service:function(t){var e=this;this.$http.get(_+"services/api/service/"+t+"/").then(function(t){console.log(t.data),e.invoice.services.push(t.data.id),e.invoice.services_obj.push(t.data)})},new_invoice:function(){var t=this;this.$http.post(_+"documents/api/documents/",this.invoice).then(function(e){return t.invoice=e.data})},set_invoice:function(){var t=this;this.$http.put(_+"documents/api/documents/"+this.invoice.id+"/",this.invoice).then(function(e){t.invoice=e.data,alert("Сохранено")})}},created:function(){var t=void 0!==this.$route.params.id?this.$route.params.id:null;if(console.log(this.$route.params.id),void 0!==this.$route.params.add_service){this.get_invoice(t);var e=this;setTimeout(function(){return e.get_service(e.$route.params.add_service)},1e3)}else null!==t?this.get_invoice(t):this.get_partner(this.$route.params.partner),this.get_service(this.$route.params.add_service);this.get_my_firm()}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("form",{},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"number"}},[t._v(" Номер документа")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.number,expression:"invoice.number"}],staticClass:"form-control col-lg-6",attrs:{id:"number",type:"text"},domProps:{value:t.invoice.number},on:{input:function(e){e.target.composing||t.$set(t.invoice,"number",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"partner"}},[t._v(" Плательщик")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.partner_obj.full_name,expression:"invoice.partner_obj.full_name"}],staticClass:"form-control col-lg-6",attrs:{id:"partner",type:"text",readonly:""},domProps:{value:t.invoice.partner_obj.full_name},on:{input:function(e){e.target.composing||t.$set(t.invoice.partner_obj,"full_name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"date"}},[t._v(" Дата")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.date,expression:"invoice.date"}],staticClass:"form-control col-lg-6",attrs:{id:"date",type:"date"},domProps:{value:t.invoice.date},on:{input:function(e){e.target.composing||t.$set(t.invoice,"date",e.target.value)}}})])]),t._v(" "),null!==t.invoice.id?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("tr",[a("th",[t._v("№ "),a("br"),t._v(" "),a("router-link",{attrs:{to:{name:"service",params:{invoice:t.invoice.id}}}},[t._v("+")])],1),t._v(" "),a("th",[t._v("Наименование и краткая характеристика услуги")]),t._v(" "),a("th",[t._v("Ед.изм.")]),t._v(" "),a("th",[t._v("Кол-во")]),t._v(" "),a("th",[t._v("Цена,руб.")]),t._v(" "),a("th",[t._v("Сумма без НДС, руб.")]),t._v(" "),a("th",[t._v("Ставка НДС, %")]),t._v(" "),a("th",[t._v("Сумма НДС, руб.")]),t._v(" "),a("th",[t._v("Сумма с НДС руб.")])]),t._v(" "),t._l(t.invoice.services_obj,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1))]),t._v(" "),a("td",[a("router-link",{attrs:{to:{name:"service",params:{id:e.id}}}},[t._v(t._s(e.name))])],1),t._v(" "),a("td",[t._v(t._s(e.unit))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",[t._v(t._s(e.cost_wo_vat))]),t._v(" "),a("td",[t._v(t._s(e.vat))]),t._v(" "),a("td",[t._v(t._s(e.vat_value))]),t._v(" "),a("td",[t._v(t._s(e.cost_with_vat))])])}),t._v(" "),a("tr",[a("td",{attrs:{colspan:"5"}},[t._v("Итого")]),t._v(" "),a("td",[t._v(t._s(t.summ_price_wo_vat))]),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.summ_vat))]),t._v(" "),a("td",[t._v(t._s(t.summ_price_with_vat))])])],2)]):t._e(),t._v(" "),null!==t.invoice.id?a("form",{},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"vat_verbose"}},[t._v(" Сумма НДС прописью")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.num2str_vat,expression:"num2str_vat"}],staticClass:"form-control col-lg-6",attrs:{id:"vat_verbose",type:"text",readonly:""},domProps:{value:t.num2str_vat},on:{input:function(e){e.target.composing||(t.num2str_vat=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"price_with_vat_verbose"}},[t._v(" ВСЕГО с НДС прописью: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.num2str_price_with_vat,expression:"num2str_price_with_vat"}],staticClass:"form-control col-lg-6",attrs:{id:"price_with_vat_verbose",type:"text",readonly:""},domProps:{value:t.num2str_price_with_vat},on:{input:function(e){e.target.composing||(t.num2str_price_with_vat=e.target.value)}}})])]):t._e(),t._v(" "),a("form",[a("div",{staticClass:"form-group row"},[null===t.invoice.id?a("button",{staticClass:"btn btn-dark col-lg-8 form-control d-print-none",on:{click:function(e){return e.preventDefault(),t.new_invoice(e)}}},[t._v("\n          Сохранить\n        ")]):a("button",{staticClass:"btn btn-dark col-lg-8 form-control d-print-none",on:{click:function(e){return e.preventDefault(),t.set_invoice(e)}}},[t._v("\n          Сохранить\n        ")])]),t._v(" "),a("div",{staticClass:"form-group row d-print-none"},[a("router-link",{staticClass:"btn btn-dark col-lg-8 form-control",attrs:{to:{name:"act",params:{invoice:t.invoice.id}}}},[t._v("\n          Акт\n        ")])],1)]),t._v(" "),a("div",{staticClass:"row "},[a("div",{staticClass:"col-lg-10 offset-1 "},[a("div",{staticClass:"table-responsive"},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticStyle:{width:"50%"}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[a("h3",[t._v(t._s(t.my_firm.full_name))])]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.address)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.taxpayer_number)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.bank_requisites)+"\n                  ")])])]),t._v(" "),a("td",{staticStyle:{width:"50%"}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[a("h3",[t._v(t._s(t.invoice.partner_obj.full_name))])]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.address)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.taxpayer_number)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.bank_requisites)+"\n                  ")])])])])])])])])])])},staticRenderFns:[]};var d=a("VU/8")(m,p,!1,function(t){a("beg6")},"data-v-285aad07",null).exports,f={name:"PartnersList",data:function(){return{partners:"empty",hovered:!1}},methods:{get_partners:function(){var t=this;this.$http.get(_+"partners/api/partner/").then(function(e){t.partners=e.data})},show_action_list:function(t){var e=this;function a(){e.hovered=!e.hovered}t?setTimeout(a,0):setTimeout(a,1e4)}},created:function(){this.get_partners()},components:{Invoice:d}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group col-lg-10 offset-1"},[a("router-link",{staticClass:"btn btn-dark mt-2 form-control",attrs:{to:{name:"partner"}}},[t._v("\n          Добавить партнера\n      ")])],1),t._v(" "),a("div",{staticClass:"col-lg-10 offset-1"},t._l(t.partners,function(e,i){return a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item list-group-item-action "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-1 btn btn-dark"},[t._v("\n              "+t._s(i+1)+"\n            ")]),t._v(" "),a("div",{staticClass:"col-lg-2 "},[a("router-link",{staticClass:"btn btn-dark",staticStyle:{width:"90%"},attrs:{to:{name:"invoices",params:{partner:e.id}}}},[t._v("\n                Счета\n              ")])],1),t._v(" "),a("div",{staticClass:"col-lg-9"},[a("router-link",{staticClass:"btn btn-dark",staticStyle:{width:"100%"},attrs:{to:{name:"partner",params:{id:e.id}}}},[t._v("\n                "+t._s(e.full_name)+"\n              ")])],1)])])])}))])])},staticRenderFns:[]};var h=a("VU/8")(f,g,!1,function(t){a("Amyg")},"data-v-77ea4cb0",null).exports,b={name:"Partner",data:function(){return{partner:{id:null,full_name:"",short_name:"",address:"",bank_requisites:"",is_self_firm:!1,taxpayer_number:""}}},methods:{get_partner:function(t){var e=this;this.$http.get(_+"partners/api/partner/"+t+"/").then(function(t){return e.partner=t.data})},get_my_firm:function(){var t=this;this.$http.get(_+"partners/api/partner/?my_firm=True").then(function(e){return t.partner=e.data[0]})},new_partner:function(){var t=this;this.$http.post(_+"partners/api/partner/",this.partner).then(function(e){t.partner=e.data,alert("Сохранено")})},set_partner:function(){var t=this;this.$http.put(_+"partners/api/partner/"+this.partner.id+"/",this.partner).then(function(e){t.partner=e.data,alert("Сохранено")})}},created:function(){console.log(this.$route.params.my_firm),void 0===this.$route.params.my_firm?this.get_partner(this.$route.params.id):(console.log(this.$route.params.my_firm),this.get_my_firm())}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("form",{staticClass:"col-lg-10 offset-1",staticStyle:{width:"100%"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"full_name"}},[t._v(" Полное наименование")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.partner.full_name,expression:"partner.full_name"}],staticClass:"form-control col-lg-6",attrs:{id:"full_name",type:"text"},domProps:{value:t.partner.full_name},on:{input:function(e){e.target.composing||t.$set(t.partner,"full_name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"short_name"}},[t._v(" Сокращенное наименование")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.partner.short_name,expression:"partner.short_name"}],staticClass:"form-control col-lg-6",attrs:{id:"short_name",type:"text"},domProps:{value:t.partner.short_name},on:{input:function(e){e.target.composing||t.$set(t.partner,"short_name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"address"}},[t._v(" Адрес")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.partner.address,expression:"partner.address"}],staticClass:"form-control col-lg-6",attrs:{id:"address",type:"text"},domProps:{value:t.partner.address},on:{input:function(e){e.target.composing||t.$set(t.partner,"address",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"bank_requisites"}},[t._v(" Банковские реквизиты")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.partner.bank_requisites,expression:"partner.bank_requisites"}],staticClass:"form-control col-lg-6",attrs:{id:"bank_requisites",type:"text"},domProps:{value:t.partner.bank_requisites},on:{input:function(e){e.target.composing||t.$set(t.partner,"bank_requisites",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"taxpayer_number"}},[t._v(" УНП")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.partner.taxpayer_number,expression:"partner.taxpayer_number"}],staticClass:"form-control col-lg-6",attrs:{id:"taxpayer_number",type:"text"},domProps:{value:t.partner.taxpayer_number},on:{input:function(e){e.target.composing||t.$set(t.partner,"taxpayer_number",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[null===t.partner.id?a("button",{staticClass:"btn btn-ligth form-control",on:{click:function(e){return e.preventDefault(),t.new_partner(e)}}},[t._v("\n          Сохранить\n        ")]):a("button",{staticClass:"btn btn-dark form-control",on:{click:function(e){return e.preventDefault(),t.set_partner(e)}}},[t._v("\n          Сохранить\n        ")])])])])])},staticRenderFns:[]};var w=a("VU/8")(b,C,!1,function(t){a("aOsf")},"data-v-35153a76",null).exports,y={name:"Invoices",data:function(){return{invoices:[]}},methods:{get_invoices:function(){var t=this;this.$http.get(_+"documents/api/documents/?partner="+this.$route.params.partner).then(function(e){t.invoices=e.data})}},created:function(){this.get_invoices()}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-10 offset-1"},[a("div",{staticClass:"form-group"},[a("router-link",{staticClass:"btn btn-dark form-control mt-2",attrs:{to:{name:"invoice",params:{partner:t.$route.params.partner}}}},[t._v("\n        Добавить счет\n    ")])],1),t._v(" "),t._l(t.invoices,function(e,i){return a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item list-group-item-action"},[a("router-link",{staticClass:"btn btn-default btn-dark list-group-item-action",staticStyle:{color:"lightskyblue"},attrs:{to:{name:"invoice",params:{id:e.id}}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-2"},[t._v("\n              "+t._s(i+1)+"\n            ")]),t._v(" "),a("div",{staticClass:"col-lg-6"},[t._v("\n              "+t._s(e.number)+"\n            ")]),t._v(" "),a("div",{staticClass:"col-lg-4"},[t._v("\n              "+t._s(e.date)+"\n            ")])])])],1)])})],2)])},staticRenderFns:[]};var $=a("VU/8")(y,x,!1,function(t){a("WccI")},"data-v-5ceb1bb2",null).exports,k={name:"Service",data:function(){return{service:{id:null,name:"",unit:"",count:"",price:"",cost_wo_vat:"",vat:20,vat_value:"",cost_with_vat:""},invoice:""}},computed:{calculate_vat_value:function(){var t=this.service.cost_wo_vat*this.service.vat/100;return t=t.toFixed(2),this.service.vat_value=t,t},calculate_price_wo_vat:function(){var t=this.service.price*this.service.count;return t=t.toFixed(2),this.service.cost_wo_vat=t,this.service.cost_wo_vat},calculate_price_with_vat:function(){var t=Number(this.service.cost_wo_vat)+Number(this.service.vat_value);return t=t.toFixed(2),this.service.cost_with_vat=t,t},new_service_for_invoice:function(){return this.invoice=this.$route.params.invoice,void 0!==this.invoice&&null!==this.service.id&&(console.log(this.invoice,"invoice"),!0)}},methods:{get_service:function(t){var e=this;this.$http.get(_+"services/api/service/"+t+"/").then(function(t){return e.service=t.data})},new_service:function(){var t=this;this.$http.post(_+"services/api/service/",this.service).then(function(e){return t.service=e.data})},set_service:function(){var t=this;this.$http.put(_+"services/api/service/"+this.service.id+"/",this.service).then(function(e){return t.service=e.data})}},created:function(){void 0!==this.$route.params.id&&this.get_service(this.$route.params.id)}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("form",{},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"name"}},[t._v(" Наименование услуги")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.name,expression:"service.name"}],staticClass:"form-control col-lg-6",attrs:{id:"name",type:"text"},domProps:{value:t.service.name},on:{input:function(e){e.target.composing||t.$set(t.service,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"unit"}},[t._v(" Ед. измерения")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.unit,expression:"service.unit"}],staticClass:"form-control col-lg-6",attrs:{id:"unit",type:"text"},domProps:{value:t.service.unit},on:{input:function(e){e.target.composing||t.$set(t.service,"unit",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"count"}},[t._v(" Количество")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.count,expression:"service.count"}],staticClass:"form-control col-lg-6",attrs:{id:"count",type:"text"},domProps:{value:t.service.count},on:{input:function(e){e.target.composing||t.$set(t.service,"count",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"price"}},[t._v(" Цена")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.price,expression:"service.price"}],staticClass:"form-control col-lg-6",attrs:{id:"price",type:"text"},domProps:{value:t.service.price},on:{input:function(e){e.target.composing||t.$set(t.service,"price",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"cost_wo_vat"}},[t._v(" Стоимость без НДС")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.calculate_price_wo_vat,expression:"calculate_price_wo_vat"}],staticClass:"form-control col-lg-6",attrs:{id:"cost_wo_vat",type:"text",readonly:""},domProps:{value:t.calculate_price_wo_vat},on:{input:function(e){e.target.composing||(t.calculate_price_wo_vat=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"vat_rate"}},[t._v(" Ставка НДС")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.vat,expression:"service.vat"}],staticClass:"form-control col-lg-6",attrs:{id:"vat_rate",type:"text"},domProps:{value:t.service.vat},on:{input:function(e){e.target.composing||t.$set(t.service,"vat",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"vat_value"}},[t._v(" Сумма НДС")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.calculate_vat_value,expression:"calculate_vat_value"}],staticClass:"form-control col-lg-6",attrs:{id:"vat_value",readonly:"",type:"text"},domProps:{value:t.calculate_vat_value},on:{input:function(e){e.target.composing||(t.calculate_vat_value=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"cost_with_vat"}},[t._v(" Стоимость с НДС")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.calculate_price_with_vat,expression:"calculate_price_with_vat"}],staticClass:"form-control col-lg-6",attrs:{id:"cost_with_vat",readonly:"",type:"text"},domProps:{value:t.calculate_price_with_vat},on:{input:function(e){e.target.composing||(t.calculate_price_with_vat=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[null===t.service.id?a("button",{staticClass:"btn btn-ligth col-lg-8 form-control",on:{click:function(e){return e.preventDefault(),t.new_service(e)}}},[t._v("\n            Сохранить\n          ")]):a("button",{staticClass:"btn btn-ligth col-lg-8 form-control",on:{click:function(e){return e.preventDefault(),t.set_service(e)}}},[t._v("\n            Сохранить\n          ")])]),t._v(" "),a("div",{staticClass:"form-group row"},[t.new_service_for_invoice?a("router-link",{staticClass:"btn btn-ligth col-lg-8 form-control",attrs:{to:{name:"invoice",params:{id:t.invoice,add_service:t.service.id}}}},[t._v("\n            Вернутся к счету\n          ")]):t._e()],1)])])])},staticRenderFns:[]};var j=a("VU/8")(k,N,!1,function(t){a("J1c+")},"data-v-832d5124",null).exports,P={name:"Act",data:function(){return{act:{},invoice:{},my_firm:{}}},methods:{get_invoice:function(t){var e=this;this.$http.get(_+"documents/api/documents/"+t+"/").then(function(t){e.invoice=t.data})},get_my_firm:function(){var t=this;this.$http.get(_+"partners/api/partner/?my_firm=True").then(function(e){return t.my_firm=e.data[0]})}},created:function(){this.get_invoice(this.$route.params.invoice),this.get_my_firm()}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 offset-1"},[a("div",{staticClass:"table-responsive"},[a("table",[a("tr",{staticStyle:{"text-align":"left"}},[a("th",[a("h3",[t._v(t._s(t.my_firm.full_name))])])]),t._v(" "),a("tr",{staticStyle:{"text-align":"left"}},[a("th",[t._v(t._s(t.my_firm.address))])]),t._v(" "),a("tr",{staticStyle:{"text-align":"left"}},[a("th",[t._v(t._s(t.my_firm.taxpayer_number))])]),t._v(" "),a("tr",{staticStyle:{"text-align":"left"}},[a("th",[t._v(t._s(t.my_firm.bank_requisites))])])])])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.invoice.services_obj,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.unit))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",[t._v(t._s(e.cost_wo_vat))]),t._v(" "),a("td",[t._v(t._s(e.vat))]),t._v(" "),a("td",[t._v(t._s(e.vat_value))]),t._v(" "),a("td",[t._v(t._s(e.cost_with_vat))])])}),t._v(" "),a("tr",[a("td",{attrs:{colspan:"5"}},[t._v("Итого")]),t._v(" "),a("td",[t._v(t._s(t.invoice.price_wo_vat_value))]),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.invoice.vat_value))]),t._v(" "),a("td",[t._v(t._s(t.invoice.price_with_vat_value))])])],2)]),t._v(" "),a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"vat_verbose"}},[t._v(" Сумма НДС прописью")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.vat_verbose,expression:"invoice.vat_verbose"}],staticClass:"form-control col-lg-6",attrs:{id:"vat_verbose",type:"text",readonly:""},domProps:{value:t.invoice.vat_verbose},on:{input:function(e){e.target.composing||t.$set(t.invoice,"vat_verbose",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-lg-2",attrs:{for:"price_with_vat_verbose"}},[t._v(" ВСЕГО с НДС прописью: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.price_with_vat_verbose,expression:"invoice.price_with_vat_verbose"}],staticClass:"form-control col-lg-6",attrs:{id:"price_with_vat_verbose",type:"text",readonly:""},domProps:{value:t.invoice.price_with_vat_verbose},on:{input:function(e){e.target.composing||t.$set(t.invoice,"price_with_vat_verbose",e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"row "},[a("div",{staticClass:"col-lg-10 offset-1 "},[a("div",{staticClass:"table-responsive"},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticStyle:{width:"50%"}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.full_name)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.address)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.taxpayer_number)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.my_firm.bank_requisites)+"\n                  ")])])]),t._v(" "),a("td",{staticStyle:{width:"50%"}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.full_name)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.address)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.taxpayer_number)+"\n                  ")]),t._v(" "),a("li",{staticClass:"list-group-item"},[t._v("\n                    "+t._s(t.invoice.partner_obj.bank_requisites)+"\n                  ")])])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("№")]),t._v(" "),a("th",[t._v("Наименование и краткая характеристика услуги")]),t._v(" "),a("th",[t._v("Ед.изм.")]),t._v(" "),a("th",[t._v("Кол-во")]),t._v(" "),a("th",[t._v("Цена,руб.")]),t._v(" "),a("th",[t._v("Сумма без НДС, руб.")]),t._v(" "),a("th",[t._v("Ставка НДС, %")]),t._v(" "),a("th",[t._v("Сумма НДС, руб.")]),t._v(" "),a("th",[t._v("Сумма с НДС руб.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group row"},[e("textarea",{staticClass:"form-control col-lg-6",attrs:{type:"text"}},[this._v("            Вышеперечисленные услуги выполнены полностью и в срок. Заказчик претензий по объему,качеству и срокам оказанных услуг не имеет")])])}]};var S=a("VU/8")(P,F,!1,function(t){a("HtRV")},"data-v-25e29d5c",null).exports;i.a.use(l.a);var q=new l.a({mode:"history",routes:[{path:"/",name:"index",component:v},{path:"/partners",name:"partners",component:h},{path:"/partner/:id?/:my_firm?",name:"partner",component:w},{path:"/invoice/:id?/:add_service?/:partner?",name:"invoice",component:d},{path:"/invoices/:partner?/",name:"invoices",component:$},{path:"/service/:id?/:invoice?/",name:"service",component:j},{path:"/act/:invoice?/",name:"act",component:S}]}),E=a("8+8L");i.a.use(E.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:q,components:{App:o},template:"<App/>"})},Sglr:function(t,e){},WccI:function(t,e){},aOsf:function(t,e){},beg6:function(t,e){},xHBY:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.95f4724607358f3e64d6.js.map